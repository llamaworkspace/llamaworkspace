Todo: Separate utils for backend, frontend, and both